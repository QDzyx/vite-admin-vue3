import{u as e,r as t}from"./index-DQzkvIJZ.js";const r=axios.create({baseURL:"https://api-production.example.com",timeout:5e3});r.interceptors.request.use((t=>{const{user:r}=e();return r.getToken&&(t.headers.Authorization=`Bearer ${r.getToken}`),t}),(e=>Promise.reject(e))),r.interceptors.response.use((async e=>{const{success:t,message:r,data:s}=e.data;return t?Promise.resolve(s):(ElementPlus.ElMessage.error(r),Promise.reject(new Error(r)))}),(r=>{const{user:s}=e();return r.response&&r.response.data&&401===r.response.data.code&&(s.outLogin(),t.replace("/login")),ElementPlus.ElMessage.error(r.message),Promise.reject(r)}));const s=Vue.defineComponent({__name:"index",setup(e){const t=()=>{r.get("/sss").then((e=>{}))};return(e,r)=>{const s=Vue.resolveComponent("el-button"),o=Vue.resolveDirective("domDirective");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(s,{onClick:t},{default:Vue.withCtx((()=>[Vue.createTextVNode("用户1")])),_:1})),[[o,["login"]]])])}}});export{s as default};
