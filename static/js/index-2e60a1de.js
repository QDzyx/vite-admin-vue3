import{u as e,r as t}from"./index-c3f0b320.js";const r=axios.create({baseURL:"https://api-production.example.com",timeout:5e3});r.interceptors.request.use((t=>{const{user:r}=e();return r.getToken&&(t.headers.Authorization=`Bearer ${r.getToken}`),t}),(e=>Promise.reject(e))),r.interceptors.response.use((async e=>{const{success:t,message:r,data:o}=e.data;return t?Promise.resolve(o):(ElementPlus.ElMessage.error(r),Promise.reject(new Error(r)))}),(r=>{const{user:o}=e();return r.response&&r.response.data&&401===r.response.data.code&&(o.outLogin(),t.replace("/login")),ElementPlus.ElMessage.error(r.message),Promise.reject(r)}));const o=Vue.defineComponent({__name:"index",setup(e){const t=()=>{r.get("https://www.baidu.com").then((e=>{}))};return(e,r)=>{const o=Vue.resolveComponent("el-button"),s=Vue.resolveDirective("domDirective");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(o,{onClick:t},{default:Vue.withCtx((()=>[Vue.createTextVNode("用户1")])),_:1})),[[s,["login"]]])])}}});export{o as default};
