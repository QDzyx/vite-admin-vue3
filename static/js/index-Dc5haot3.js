import{u as e,r as t}from"./index-Cl7SrPr-.js";import"https://cdn.jsdelivr.net/npm/dhtmlx-gantt@8.0.6/+esm";const s=axios.create({baseURL:"https://api-production.example.com",timeout:5e3});s.interceptors.request.use((t=>{const{user:s}=e();return s.getToken&&(t.headers.Authorization=`Bearer ${s.getToken}`),t}),(e=>Promise.reject(e))),s.interceptors.response.use((async e=>{const{success:t,message:s,data:r}=e.data;return t?Promise.resolve(r):(ElementPlus.ElMessage.error(s),Promise.reject(new Error(s)))}),(s=>{const{user:r}=e();return s.response&&s.response.data&&401===s.response.data.code&&(r.outLogin(),t.replace("/login")),ElementPlus.ElMessage.error(s.message),Promise.reject(s)}));const r=Vue.defineComponent({__name:"index",setup(e){const{proxy:t}=Vue.getCurrentInstance(),r=()=>{s.get("/sss").then((e=>{}))},o=()=>{t.$ShowMessage({message:"消息",ok:()=>{},cancel:()=>{}})};return(e,t)=>{const s=Vue.resolveComponent("el-button"),n=Vue.resolveDirective("domDirective");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(s,{onClick:r},{default:Vue.withCtx((()=>[Vue.createTextVNode("axios调用")])),_:1})),[[n,["login"]]]),Vue.createVNode(s,{onClick:o},{default:Vue.withCtx((()=>[Vue.createTextVNode("函数式组件")])),_:1})])}}});export{r as default};
