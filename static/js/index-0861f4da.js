import{u as e,r as o,_ as s}from"./index-c4b041de.js";const t=Axios.create({baseURL:"https://api-test.example.com",timeout:5e3});t.interceptors.request.use((o=>{const{user:s}=e();return console.log("===================================="),console.log(s.getToken),console.log("===================================="),s.getToken&&(o.headers.Authorization=`Bearer ${s.getToken}`,console.log(o,"config")),o}),(e=>Promise.reject(e))),t.interceptors.response.use((async e=>{const{success:o,message:s,data:t}=e.data;return o?Promise.resolve(t):(ElementPlus.ElMessage.error(s),Promise.reject(new Error(s)))}),(s=>{const{user:t}=e();return s.response&&s.response.data&&401===s.response.data.code&&(t.outLogin(),o.replace("/login")),ElementPlus.ElMessage.error(s.message),Promise.reject(s)}));var r=s(Vue.defineComponent({__name:"index",setup(e){const o=()=>{t.get("https://www.baidu.com").then((e=>{}))};return(e,s)=>{const t=Vue.resolveComponent("el-button"),r=Vue.resolveDirective("domDirective");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(t,{onClick:o},{default:Vue.withCtx((()=>[Vue.createTextVNode("用户1")])),_:1})),[[r,["login"]]])])}}}),[["__file","C:/Users/Administrator/Desktop/vue3-vite-admin-universal-rack/src/views/userOne/index.vue"]]);export{r as default};
